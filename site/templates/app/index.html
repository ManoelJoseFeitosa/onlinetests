{% extends 'base.html' %} {# Assumindo que você usa o base.html que criamos antes #}

{% block title %}Painel do Sistema de Avaliação{% endblock %}

{% block content %}
    <h1>Painel de Controle</h1>
    <p>Bem-vindo ao painel de gerenciamento do sistema. Selecione uma das ações abaixo.</p>

    <style>
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 30px;
            text-align: left;
        }
        .dashboard-card {
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 20px;
            background-color: #f9f9f9;
        }
        .dashboard-card h3 {
            margin-top: 0;
            border-bottom: 2px solid #007bff;
            padding-bottom: 10px;
            margin-bottom: 15px;
        }
        .dashboard-card p {
            font-size: 0.9em;
            color: #666;
        }
        .dashboard-card .action-button {
            display: inline-block;
            margin-top: 15px;
            padding: 10px 15px;
            background-color: #007bff;
            color: white;
            text-decoration: none;
            border-radius: 5px;
            border: none;
            cursor: pointer;
            width: 100%;
            box-sizing: border-box;
            text-align: center;
        }
         .dashboard-card .action-button-secondary {
            background-color: #6c757d;
        }
        .dashboard-card .action-button:hover {
            background-color: #0056b3;
        }
    </style>

    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        {% for category, message in messages %}
          <div class="alert alert-{{ category or 'info' }}" style="padding: 10px; margin-bottom: 15px; border-radius: 5px; background-color: #d4edda; color: #155724;">
            {{ message }}
          </div>
        {% endfor %}
      {% endif %}
    {% endwith %}

    <div class="dashboard-grid">
    
        {% if current_user.role == 'coordenador' %}
        <div class="dashboard-card">
            <h3>Gerenciar Cursos</h3>
            <p>Adicionar ou popular o banco de dados com uma lista inicial de cursos.</p>
            <form action="{{ url_for('index') }}" method="POST">
                <input type="hidden" name="action" value="seed_courses">
                <button type="submit" class="btn btn-custom-green btn-lg">Inserir Cursos</button>
            </form>
            <a href="{{ url_for('listar_cursos') }}" class="action-button action-button-secondary">Ver Lista de Cursos</a>
        </div>
    
        <div class="dashboard-card">
            <h3>Gerenciar Usuários</h3>
            <p>Criar novos usuários e definir seus papéis no sistema.</p>
            <a href="{{ url_for('register') }}" class="action-button">Cadastrar Novo Usuário</a>
            </div>
        {% endif %}
    
        {% if current_user.role in ['coordenador', 'professor'] %}
        <div class="dashboard-card">
            <h3>Gerenciar Questões</h3>
            <p>Adicionar novas questões e associá-las a um curso existente.</p>
            <a href="{{ url_for('criar_questao') }}" class="action-button">Adicionar Nova Questão</a>
        </div>
    
        <div class="dashboard-card">
            <h3>Gerenciar Avaliações</h3>
            <p>Criar novas avaliações, atribuí-las a usuários e visualizar os resultados.</p>
            <a href="{{ url_for('criar_avaliacao') }}" class="action-button">Criar Nova Avaliação</a>
            <a href="{{ url_for('listar_avaliacoes') }}" class="action-button action-button-secondary">Ver Avaliações</a>
        </div>
        {% endif %}
        </div>

{% endblock %}